<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Nanothrower</title>
    <link rel="icon" type="image/png" href="../favicon.png"/>
    <link rel="stylesheet" href="css/main.css"/>
</head>
<body>

<menu type="toolbar" class="nt-menu">
    <li>
        <button type="menu" value="File" menu="file-menu"></button>
        <menu id="file-menu" type="popup">
            <menuitem label="Load structure…" data-action="load"></menuitem>
            <menuitem label="Save structure…" data-action="save"></menuitem>
        </menu>
        <input type="file" id="nt-file" autocomplete="off" accept=".hin,.ml2,.mol2,.xyz,.json"/>
    </li>
    <li>
        <button type="menu" value="Make" menu="make-menu"></button>
        <menu id="make-menu" type="popup">
            <menuitem label="Create graphene…" data-action="graphene"></menuitem>
            <menuitem label="Create nanotube…" data-action="nanotube"></menuitem>
        </menu>
    </li>
    <li>
        <button type="menu" value="Edit" menu="edit-menu"></button>
        <menu id="edit-menu" type="popup">
            <menuitem label="Transformation of coordinates…" data-action="transform"></menuitem>
            <menuitem label="Convert to BN" data-action="bnConvert"></menuitem>
        </menu>
    </li>
    <li>
        <button type="menu" value="Run" menu="run-menu"></button>
        <menu id="run-menu" type="popup">
            <menuitem label="Random rain…" data-action="rndRain"></menuitem>
        </menu>
    </li>
    <li>
        <button type="menu" value="View" menu="view-menu"></button>
        <menu id="view-menu" type="popup">
            <menuitem label="Appearance…" data-action="alterView"></menuitem>
        </menu>
    </li>
</menu>

<form action="#" class="nt-dialog nt-save-form hidden">
    <h2>Save structure</h2>
    <p>
        <label for="nt-file-type">Select file type to save</label><br/>
        <select id="nt-file-type">
            <option value="hin" selected>HIN file (HyperChem)</option>
            <option value="ml2">ML2 file (Tripos MOL2)</option>
            <option value="xyz">XYZ file (Cartesian)</option>
            <option value="json">JSON file (internal format)</option>
        </select>
    </p>
    <fieldset class="nt-dialog-btns">
        <a href="#" class="nt-apply" download="">Save</a>
        <input type="button" class="nt-discard" value="Cancel"/>
    </fieldset>
</form>

<form action="#" class="nt-dialog nt-graphene-form hidden" autocomplete="off">
    <h2>Create graphene</h2>
    <fieldset>
        <legend>Graphene parameters</legend>
        <label><var>L<sub>x</sub></var>, Å <input type="text" id="graphene-width" title="Width of a graphene sheet" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="30" required></label>
        <label><var>L<sub>y</sub></var>, Å <input type="text" id="graphene-height" title="Height of a graphene sheet" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="30" required></label>
        <label><var>R</var><sub>C–C</sub>, Å <input type="text" id="graphene-rcc" title="Equilibrium distance in C–C pair" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="1.42" required></label>
    </fieldset>
    <fieldset class="nt-dialog-btns">
        <input type="button" class="nt-apply" value="Create"/>
        <input type="button" class="nt-discard" value="Cancel"/>
    </fieldset>
</form>

<form action="#" class="nt-dialog nt-nanotube-form hidden" autocomplete="off">
    <h2>Create nanotube</h2>
    <fieldset>
        <legend>Nanotube parameters</legend>
        <label><var>R</var>, Å <input type="text" id="nanotube-radius" title="Radius of a nanotube" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="10" required></label>
        <label><var>L</var>, Å <input type="text" id="nanotube-length" title="Length of a graphene sheet" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="30" required></label>
        <label><var>R</var><sub>C–C</sub>, Å <input type="text" id="nanotube-rcc" title="Equilibrium distance in C–C pair" pattern="\d*\.?\d+([eE][+-]?\d+)?" value="1.42" required></label>
    </fieldset>
    <fieldset class="nt-dialog-btns">
        <input type="button" class="nt-apply" value="Create"/>
        <input type="button" class="nt-discard" value="Cancel"/>
    </fieldset>
</form>

<form action="#" class="nt-dialog nt-transform-form hidden" autocomplete="off">
    <h2>Transformation of coordinates</h2>
    <fieldset class="nt-translate">
        <legend>Translate</legend>
        <p>Specify the new centroid coordinates</p>
        <p>
            <label><input type="text" data-axis="x"/><br/>X<sub>C</sub>, Å</label>
            <label><input type="text" data-axis="y"/><br/>Y<sub>C</sub>, Å</label>
            <label><input type="text" data-axis="z"/><br/>Z<sub>C</sub>, Å</label>
            <input type="button" id="nt-translate-apply" value="&#x21A6;" title="Translate"/>
        </p>
    </fieldset>
    <fieldset class="nt-rotate">
        <legend>Rotate</legend>
        <p>
            <label for="nt-rotate-angle">Angle, deg</label><br/>
            <input type="text" id="nt-rotate-angle"/>
        </p>
        <p>
            <input type="button" data-axis="x" value="X"/>
            <input type="button" data-axis="y" value="Y"/>
            <input type="button" data-axis="z" value="Z"/>
        </p>
    </fieldset>
    <fieldset class="nt-dialog-btns">
        <input type="button" class="nt-discard" value="Close"/>
    </fieldset>
</form>

<form action="#" class="nt-dialog nt-rnd-rain-form hidden" autocomplete="off">
    <h2>Random rain</h2>
    <div class="nt-rnd-rain-config">
        <fieldset class="nt-distances">
            <legend>Adhering distances (Å)</legend>
            <div id="nt-distance-fields"></div>
        </fieldset>
        <fieldset class="nt-adsorb">
            <legend>Adsorbate</legend>
            <label><input type="checkbox" id="nt-adsorb-mol" checked> Molecular</label>
            <label><input type="checkbox" id="nt-adsorb-birad" checked> Biradical</label>
            <label class="label-right"><var>R</var><sub>H–H</sub>, Å <input type="text" id="nt-adsorb-r-hh" title="Interatomic distance in the H–H molecule" pattern="\d*\.?\d+([eE][+-]?\d+)?" required></label>
            <label class="label-right"><var>N</var><sub id="nt-adsorb-count-mol">mol</sub><sub id="nt-adsorb-count-atm" class="hidden">atm</sub> <input type="number" id="nt-adsorb-count" min="1" step="1" title="Number of hydrogen atoms or molecules to add" required></label>
        </fieldset>
        <fieldset class="nt-sphere">
            <legend>Hydrogen source surface</legend>
            <label><input type="radio" name="nt-src-mode" value="sphere" checked> Sphere</label>
            <label><input type="radio" name="nt-src-mode" value="hemisphere"> Hemisphere</label>
            <label class="label-right"><var>R</var><sub>sph</sub>, Å <input type="text" id="nt-sphere-radius" title="Sphere radius" pattern="\d*\.?\d+([eE][+-]?\d+)?" required></label>
        </fieldset>
    </div>
    <fieldset class="nt-dialog-btns">
        <input type="button" class="nt-apply" value="OK"/>
        <input type="button" class="nt-discard" value="Cancel"/>
    </fieldset>
</form>

<form action="#" class="nt-dialog nt-appearance-form hidden" autocomplete="off">
    <h2>Appearance</h2>
    <fieldset>
        <legend>Model</legend>
        <label><input type="radio" name="appearance" data-appearance="graph" checked/> Graph</label><br/>
        <label><input type="radio" name="appearance" data-appearance="spheres"/> Spheres</label>
    </fieldset>
    <fieldset class="nt-appearance-colors">
        <legend>Colors</legend>
        <label>Element<br/><select id="nt-appearance-element"></select></label>
        <label>Color<br/><input type="color" id="nt-appearance-color"/></label>
        <hr/>
        <label>Background <input type="color" id="nt-bg-color"/></label>
    </fieldset>
    <fieldset class="nt-dialog-btns">
        <input type="button" class="nt-apply" value="OK"/>
        <input type="button" class="nt-discard" value="Cancel"/>
    </fieldset>
</form>

<div id="nt-view"><canvas></canvas></div>

<div class="nt-progress" id="nt-progress"></div>

<script src="../vendor/system.js"></script>
<script>
    System.config({
        baseURL: "./js",
        map: {
            jquery: "../vendor/jquery.min.js",
            three: "../vendor/three.min.js"
        },
        meta: {
            jquery: {format: "cjs"},
            three: {format: "cjs"}
        }
    });
    System.import("interface.amd.js");
</script>
</body>
</html>